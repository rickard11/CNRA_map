---
title: "TNC Map"
editor: visual
format:
  dashboard:
    orientation: columns
---


## Column {width="30%"}

```{r, echo=FALSE}
library(sf)
library(leaflet)

TNC<-read.csv("data/CalGRO_well_locations_extended.csv")

Calgro_map <- leaflet(TNC) %>%
  addTiles() %>%
  addProviderTiles("Esri.WorldImagery") %>%
  setView(lng = -118.63, lat = 37.6, zoom = 6) %>%
  addCircleMarkers(
    ~Longitude, ~Latitude,
    radius = 1.5,) 
Calgro_map
```

## Column {width="70%"}

### Row {height="33%"}

```{r, echo=FALSE}
#| title: "Frank and Joan Randall Preserve"
my_shapefile <- st_read("data/shapefiles/TNCLands_CalGRO.shp")
my_shapefile_11 <- st_transform(my_shapefile, 4326)
my_shapefile_11 <- sf::st_zm(my_shapefile_11, drop = TRUE, what = "ZM")
my_shapefile_11 <- my_shapefile_11 |>
  st_zm(drop = TRUE, what = "ZM") |>
  st_transform(4326)
```

```{r}
par(mar = c(0, 0, 0, 0))
plot(st_geometry(my_shapefile_11), col = "#f2f2f2", bg = "skyblue", lwd = 0.25, border = 0)
```

```{r,echo=FALSE}
Randall <- leaflet(my_shapefile_11) %>%
  addTiles() %>%
  addProviderTiles("Esri.NatGeoWorldMap") %>%
  setView(lng = -118.5, lat = 35.25, zoom = 10) %>%
  addPolygons()

Randall
sf::st_crs(my_shapefile_11)


```

### Row {height="33%"}

```{r, echo=FALSE}
#| title: "Las Piletas Preserve"

Las_Piletas <- leaflet(my_shapefile_11) %>%
  addTiles() %>%
  addProviderTiles("Esri.NatGeoWorldMap") %>%
  setView(lng = -120.1, lat = 35.3, zoom = 11) %>%
  addPolygons(
    color = "black", 
    fillColor = "pink",     # Border color
    weight = 1,          # Border width
    fillOpacity = 0.6,   # Fill transparency
    popup = ~LRM_TR_NA        # Optional: Add popups based on a column, e.g., 'NAME'
  )
Las_Piletas
```

### Row {height="33%"}

```{r, echo=FALSE}
#| title: "Dangermond Preserve"

Dangermond <- leaflet(my_shapefile_11) %>%
  addTiles() %>%
  addProviderTiles("Esri.NatGeoWorldMap") %>%
  setView(lng = -120.45, lat = 34.5, zoom = 11) %>%
  addPolygons(
    color = "black", 
    fillColor = "pink",     # Border color
    weight = 1,          # Border width
    fillOpacity = 0.6,   # Fill transparency
    popup = ~LRM_TR_NA        # Optional: Add popups based on a column, e.g., 'NAME'
  )
Dangermond
```

